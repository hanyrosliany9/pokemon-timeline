@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * Pokemon Timeline - Unified Design System
 *
 * This file contains all CSS custom properties (variables) for the application.
 * Variables are organized by category and support both light and dark modes.
 *
 * Color Format: HSL values without hsl() wrapper for Tailwind compatibility
 * Usage: hsl(var(--variable-name)) or with alpha: hsl(var(--variable-name) / 0.5)
 */

@layer base {
  :root {
    /* ============================================================
       BACKGROUND LAYERS
       Ordered from base to elevated surfaces
       ============================================================ */
    --background-primary: 210 20% 98%;     /* #f9fafb - Page background */
    --background-secondary: 0 0% 100%;     /* #ffffff - Card/surface */
    --background-tertiary: 220 14% 96%;    /* #f3f4f6 - Muted/input bg */
    --background-elevated: 0 0% 100%;      /* #ffffff - Modals/popovers */

    /* ============================================================
       TEXT HIERARCHY
       Primary > Secondary > Tertiary (decreasing emphasis)
       ============================================================ */
    --text-primary: 221 39% 11%;           /* #111827 - Headings, important */
    --text-secondary: 220 9% 46%;          /* #6b7280 - Body, descriptions */
    --text-tertiary: 218 11% 65%;          /* #9ca3af - Captions, hints */
    --text-inverse: 0 0% 100%;             /* #ffffff - On dark backgrounds */

    /* ============================================================
       STATUS / SEMANTIC COLORS
       Same values light/dark for brand consistency
       ============================================================ */
    --status-success: 160 84% 39%;         /* #10b981 - Success, positive */
    --status-warning: 38 92% 50%;          /* #f59e0b - Warning, caution */
    --status-error: 0 84% 60%;             /* #ef4444 - Error, danger */
    --status-info: 217 91% 60%;            /* #3b82f6 - Info, primary */

    /* ============================================================
       FINANCIAL COLORS
       Domain-specific semantic colors
       ============================================================ */
    --financial-income: 160 84% 39%;       /* #10b981 - Green for income */
    --financial-expense: 0 84% 60%;        /* #ef4444 - Red for expenses */
    --financial-crypto: 258 90% 66%;       /* #8b5cf6 - Purple for crypto */

    /* ============================================================
       CHART PALETTE
       5-color palette for data visualization
       ============================================================ */
    --chart-1: 217 91% 60%;                /* Blue - Primary data */
    --chart-2: 160 84% 39%;                /* Green - Secondary */
    --chart-3: 38 92% 50%;                 /* Yellow/Orange - Tertiary */
    --chart-4: 258 90% 66%;                /* Purple - Quaternary */
    --chart-5: 0 84% 60%;                  /* Red - Quinary */

    /* ============================================================
       INTERACTIVE ELEMENTS
       Buttons, links, focus states
       ============================================================ */
    --interactive-primary: 217 91% 60%;    /* #3b82f6 - Primary button */
    --interactive-primary-hover: 224 76% 48%; /* #2563eb - Hover state */
    --interactive-secondary: 220 9% 46%;   /* #6b7280 - Secondary button */
    --interactive-destructive: 0 84% 60%;  /* #ef4444 - Delete/danger */
    --interactive-destructive-hover: 0 72% 51%; /* #dc2626 - Hover state */

    /* ============================================================
       BORDERS
       ============================================================ */
    --border-default: 220 13% 91%;         /* #e5e7eb - Default border */
    --border-muted: 220 14% 96%;           /* #f3f4f6 - Subtle border */
    --border-focus: 217 91% 60%;           /* #3b82f6 - Focus ring */

    /* ============================================================
       SHADOWS (as CSS values, not HSL)
       ============================================================ */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    --shadow-card: 0 2px 8px rgba(0, 0, 0, 0.08);
    --shadow-elevated: 0 4px 16px rgba(0, 0, 0, 0.12);
    --shadow-default: 0 1px 3px rgba(0, 0, 0, 0.1);

    /* ============================================================
       TRANSITIONS
       ============================================================ */
    --transition-fast: 150ms ease;
    --transition-base: 200ms ease;
    --transition-slow: 300ms ease;

    /* ============================================================
       BORDER RADIUS
       ============================================================ */
    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
    --radius-2xl: 20px;
    --radius-full: 9999px;

    /* ============================================================
       SPACING (4px base unit)
       ============================================================ */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;

    /* ============================================================
       SHADCN/UI COMPATIBILITY LAYER
       Maps to our semantic tokens for shadcn components
       ============================================================ */
    --background: 210 20% 98%;
    --foreground: 221 39% 11%;
    --card: 0 0% 100%;
    --card-foreground: 221 39% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 221 39% 11%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 14% 96%;
    --secondary-foreground: 221 39% 11%;
    --muted: 220 14% 96%;
    --muted-foreground: 220 9% 46%;
    --accent: 220 14% 96%;
    --accent-foreground: 221 39% 11%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 217 91% 60%;
    --radius: 0.5rem;
  }

  /* ================================================================
     DARK MODE
     ================================================================ */
  .dark {
    /* Background Layers (dark surfaces) */
    --background-primary: 230 25% 14%;     /* #1a1d2e - Page background */
    --background-secondary: 225 24% 18%;   /* #22283b - Card/surface */
    --background-tertiary: 222 22% 23%;    /* #2d3548 - Muted/input bg */
    --background-elevated: 220 20% 27%;    /* #374155 - Modals/popovers */

    /* Text Hierarchy (inverted for dark) */
    --text-primary: 220 13% 91%;           /* #e4e6eb - Headings */
    --text-secondary: 218 11% 65%;         /* #9ca3af - Body */
    --text-tertiary: 220 9% 46%;           /* #6b7280 - Captions */
    --text-inverse: 221 39% 11%;           /* #111827 - On light bg */

    /* Borders (darker) */
    --border-default: 222 22% 23%;         /* #2d3548 */
    --border-muted: 220 20% 27%;           /* #374155 */

    /* Shadows (more opacity for dark mode) */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.3);
    --shadow-card: 0 2px 8px rgba(0, 0, 0, 0.2);
    --shadow-elevated: 0 4px 16px rgba(0, 0, 0, 0.3);

    /* Shadcn/UI dark mode */
    --background: 230 25% 14%;
    --foreground: 220 13% 91%;
    --card: 225 24% 18%;
    --card-foreground: 220 13% 91%;
    --popover: 222 22% 23%;
    --popover-foreground: 220 13% 91%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 222 22% 23%;
    --secondary-foreground: 220 13% 91%;
    --muted: 222 22% 23%;
    --muted-foreground: 218 11% 65%;
    --accent: 222 22% 23%;
    --accent-foreground: 220 13% 91%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 222 22% 23%;
    --input: 222 22% 23%;
    --ring: 217 91% 60%;
  }

  /* ================================================================
     BASE STYLES
     ================================================================ */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text',
      'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: hsl(var(--background-primary));
    color: hsl(var(--text-primary));
    transition: background-color var(--transition-base), color var(--transition-base);
  }

  code {
    font-family: 'SF Mono', Monaco, Consolas, 'Courier New', monospace;
  }
}

/* ================================================================
   SCROLLBAR STYLING
   ================================================================ */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--background-tertiary));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--text-tertiary));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--text-secondary));
}

/* ================================================================
   STATUS BADGE COMPONENT CLASSES
   ================================================================ */
@layer components {
  .status-pending {
    @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-200;
  }

  .status-in-progress {
    @apply bg-blue-100 text-blue-800 dark:bg-blue-950 dark:text-blue-200;
  }

  .status-completed {
    @apply bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-200;
  }

  .status-delayed {
    @apply bg-orange-100 text-orange-800 dark:bg-orange-950 dark:text-orange-200;
  }

  .status-cancelled {
    @apply bg-red-100 text-red-800 dark:bg-red-950 dark:text-red-200;
  }

  /* Financial badges */
  .badge-income {
    @apply bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-200;
  }

  .badge-expense {
    @apply bg-red-100 text-red-800 dark:bg-red-950 dark:text-red-200;
  }

  .badge-crypto {
    @apply bg-purple-100 text-purple-800 dark:bg-purple-950 dark:text-purple-200;
  }
}

/* ================================================================
   GLASSMORPHISM EFFECTS
   ================================================================ */
@layer components {
  .glass-card {
    background: rgba(255, 255, 255, 0.95);
  }

  .dark .glass-card {
    background: rgba(34, 40, 59, 0.95);
  }

  @supports (backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px)) {
    .glass-card {
      background: rgba(255, 255, 255, 0.72);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }

    .dark .glass-card {
      background: rgba(34, 40, 59, 0.72);
    }

    .glass-elevated {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(30px);
    }

    .dark .glass-elevated {
      background: rgba(45, 53, 72, 0.8);
    }
  }
}

/* ================================================================
   ACCESSIBILITY
   ================================================================ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Focus visible styles for keyboard navigation */
@layer base {
  :focus-visible {
    @apply outline-none ring-2 ring-offset-2;
    ring-color: hsl(var(--border-focus));
    ring-offset-color: hsl(var(--background-primary));
  }
}
